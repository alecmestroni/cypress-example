import { Command } from "./hooks/command";
import { ClientCombination, CypressXrayPluginOptions, HttpClientCombination, InternalCucumberOptions, InternalCypressXrayPluginOptions, InternalHttpOptions, InternalJiraOptions, InternalPluginOptions, InternalXrayOptions } from "./types/plugin";
import { XrayEvidenceItem } from "./types/xray/import-test-execution-results";
import { CucumberPreprocessorArgs } from "./util/dependencies";
import { ExecutableGraph } from "./util/graph/executable-graph";
import { Logger } from "./util/logging";
export interface EvidenceCollection {
    addEvidence(issueKey: string, evidence: XrayEvidenceItem): void;
    getEvidence(issueKey: string): XrayEvidenceItem[];
}
export declare class SimpleEvidenceCollection {
    private readonly collectedEvidence;
    addEvidence(issueKey: string, evidence: XrayEvidenceItem): void;
    getEvidence(issueKey: string): XrayEvidenceItem[];
}
export declare class PluginContext implements EvidenceCollection {
    private readonly clients;
    private readonly internalOptions;
    private readonly cypressOptions;
    private readonly evidenceCollection;
    private readonly graph;
    private readonly logger;
    constructor(clients: ClientCombination, internalOptions: InternalCypressXrayPluginOptions, cypressOptions: Cypress.PluginConfigOptions, evidenceCollection: EvidenceCollection, graph: ExecutableGraph<Command>, logger: Logger);
    getClients(): ClientCombination;
    getOptions(): InternalCypressXrayPluginOptions;
    getCypressOptions(): Cypress.PluginConfigOptions;
    getGraph(): ExecutableGraph<Command>;
    getLogger(): Logger;
    addEvidence(issueKey: string, evidence: XrayEvidenceItem): void;
    getEvidence(issueKey: string): XrayEvidenceItem[];
}
export declare function getPluginContext(): PluginContext | undefined;
export declare function setPluginContext(newContext?: PluginContext): void;
/**
 * Returns an {@link InternalJiraOptions | `InternalJiraOptions`} instance based on parsed
 * environment variables and a provided options object. Environment variables will take precedence
 * over the options set in the object.
 *
 * @param env - an object containing environment variables as properties
 * @param options - an options object containing Jira options
 * @returns the constructed internal Jira options
 */
export declare function initJiraOptions(env: Cypress.ObjectLike, options: CypressXrayPluginOptions["jira"]): InternalJiraOptions;
/**
 * Returns an {@link InternalPluginOptions | `InternalPluginOptions`} instance based on parsed
 * environment variables and a provided options object. Environment variables will take precedence
 * over the options set in the object.
 *
 * @param env - an object containing environment variables as properties
 * @param options - an options object containing plugin options
 * @returns the constructed internal plugin options
 */
export declare function initPluginOptions(env: Cypress.ObjectLike, options: CypressXrayPluginOptions["plugin"]): InternalPluginOptions;
/**
 * Returns an {@link InternalXrayOptions | `InternalXrayOptions`} instance based on parsed environment
 * variables and a provided options object. Environment variables will take precedence over the
 * options set in the object.
 *
 * @param env - an object containing environment variables as properties
 * @param options - an options object containing Xray options
 * @returns the constructed internal Xray options
 */
export declare function initXrayOptions(env: Cypress.ObjectLike, options: CypressXrayPluginOptions["xray"]): InternalXrayOptions;
/**
 * Returns an {@link InternalCucumberOptions | `InternalCucumberOptions`} instance based on parsed
 * environment variables and a provided options object. Environment variables will take precedence
 * over the options set in the object.
 *
 * @param env - an object containing environment variables as properties
 * @param options - an options object containing Cucumber options
 * @returns the constructed internal Cucumber options
 */
export declare function initCucumberOptions(config: CucumberPreprocessorArgs[0], options: CypressXrayPluginOptions["cucumber"]): Promise<InternalCucumberOptions | undefined>;
export declare function initHttpClients(pluginOptions?: Pick<InternalPluginOptions, "debug">, httpOptions?: InternalHttpOptions): HttpClientCombination;
export declare function initClients(jiraOptions: InternalJiraOptions, env: Cypress.ObjectLike, httpClients: HttpClientCombination): Promise<ClientCombination>;
